# Implementation Plan: CLI Todo App

**Branch**: `001-cli-todo-app` | **Date**: 2026-01-03 | **Spec**: [spec.md](spec.md)
**Input**: Feature specification from `/specs/001-cli-todo-app/spec.md`

## Summary

A command-line todo application that allows users to manage tasks through CRUD operations. Users can add, view, update, delete, and toggle task completion status via a simple menu-driven CLI interface. All data persists only in memory during the session. The application follows an agent-based architecture with clear separation of concerns: TodoCLI_MasterAgent coordinates TaskManagerAgent, DisplayAgent, and ValidationAgent.

## Technical Context

**Language/Version**: Python 3.10+ (beginner-friendly, clean syntax)
**Primary Dependencies**: None (standard library only per constitution)
**Storage**: In-memory (Python list/dict per Principle I)
**Testing**: pytest (simple, widely used testing framework)
**Target Platform**: Cross-platform (Windows, macOS, Linux terminals)
**Project Type**: Single CLI application
**Performance Goals**: Instant response (<100ms for all operations)
**Constraints**: No external databases, no web frameworks, no authentication
**Scale/Scope**: Single-user, local session only

## Constitution Check

*GATE: Must pass before Phase 0 research. Re-check after Phase 1 design.*

| Principle | Status | Notes |
|-----------|--------|-------|
| I. In-Memory Storage Only | ✅ PASS | Uses Python list/dict in memory |
| II. CLI-Only Interface | ✅ PASS | All interaction via stdin/stdout |
| III. Task Data Structure | ✅ PASS | id (int), title (str), completed (bool), description (str) |
| IV. Single Responsibility for Agents | ✅ PASS | 4 agents with defined responsibilities |
| V. Atomic, Reusable Skills | ✅ PASS | 10 skills mapped to agents |
| VI. No External Integrations | ✅ PASS | No web/auth/AI frameworks |
| VII. Readable Logic for Beginners | ✅ PASS | Clean Python, simple patterns |

**GATE RESULT**: ✅ ALL GATES PASSED - Proceed to Phase 0

## Project Structure

### Documentation (this feature)

```text
specs/001-cli-todo-app/
├── plan.md              # This file
├── research.md          # Phase 0 output
├── data-model.md        # Phase 1 output
├── quickstart.md        # Phase 1 output
├── contracts/           # Phase 1 output
│   ├── add-task.yaml
│   ├── view-tasks.yaml
│   ├── update-task.yaml
│   ├── delete-task.yaml
│   └── toggle-task.yaml
└── tasks.md             # Phase 2 output (/sp.tasks command)
```

### Source Code (repository root)

```text
src/
├── agents/
│   ├── __init__.py
│   ├── master_agent.py      # TodoCLI_MasterAgent
│   ├── task_manager.py      # TaskManagerAgent
│   ├── display_agent.py     # DisplayAgent
│   └── validation_agent.py  # ValidationAgent
├── skills/
│   ├── __init__.py
│   ├── add_task.py
│   ├── update_task.py
│   ├── delete_task.py
│   ├── toggle_task.py
│   ├── show_menu.py
│   ├── prompt_user.py
│   ├── view_tasks.py
│   ├── validate_id.py
│   ├── validate_title.py
│   └── confirm_action.py
├── models/
│   ├── __init__.py
│   └── task.py              # Task class
├── cli/
│   ├── __init__.py
│   └── main.py              # Entry point
└── lib/
    └── __init__.py

tests/
├── contract/
├── integration/
└── unit/
```

**Structure Decision**: Single project with agents/, skills/, models/, cli/, and lib/ at repository root. This structure keeps the codebase beginner-friendly while maintaining clear separation of concerns per Principle IV.

## Agent Architecture

### TodoCLI_MasterAgent
**Responsibility**: Coordinates all sub-agents, routes user input to appropriate handlers, displays main menu loop.

### TaskManagerAgent
**Responsibility**: Handles in-memory task operations (add, update, delete, toggle complete).

### DisplayAgent
**Responsibility**: Handles CLI menu display, user prompts, and formatted task output.

### ValidationAgent
**Responsibility**: Validates user input, confirms destructive actions, enforces spec rules.

## Skill Assignments

| Skill | Agent | Purpose |
|-------|-------|---------|
| AddTask | TaskManagerAgent | Create new task in memory |
| UpdateTask | TaskManagerAgent | Modify task title/description |
| DeleteTask | TaskManagerAgent | Remove task from memory |
| ToggleTaskComplete | TaskManagerAgent | Flip task completion status |
| ShowMenu | DisplayAgent | Render main menu options |
| PromptUserChoice | DisplayAgent | Capture user input |
| ViewTasks | DisplayAgent | Format and display task list |
| ValidateID | ValidationAgent | Check task ID exists |
| ValidateTitle | ValidationAgent | Ensure title is non-empty |
| ConfirmAction | ValidationAgent | Prompt for delete confirmation |

## Complexity Tracking

*No constitution violations detected. All principles satisfied.*

---
*Plan generated by /sp.plan command*
